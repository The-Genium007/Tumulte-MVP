@import 'tailwindcss';
@import '@nuxt/ui';

/* ============================================================================
   TUMULTE - THEME CONFIGURATION
   ============================================================================

   Palettes de couleurs statiques en HEX pour compatibilit√© cross-browser.
   Compatible avec: Chrome, Firefox, Safari, Edge (toutes versions modernes)

   ============================================================================ */

@theme {
  /* ==========================================================================
     üé® CONFIGURATION RAPIDE - Couleurs de base du th√®me
     ========================================================================== */

  /* Couleur principale (brand/primary) */
  --theme-brand: #0f0b04;

  /* Couleur secondaire */
  --theme-secondary: #d8b790;

  /* Couleur de fond de page */
  --theme-bg-page: #f2e4d4;

  /* Couleurs s√©mantiques */
  --theme-success: #4ade80; /* Vert */
  --theme-error: #dc2626; /* Rouge */
  --theme-warning: #f59e0b; /* Ambre */
  --theme-info: #3b82f6; /* Bleu */
  --theme-neutral: #737373; /* Gris */

  /* Polices */
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';
  --font-heading: 'Aoboshi One', serif;
  --font-mono: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace;

  /* ==========================================================================
     PALETTES DE COULEURS - Valeurs HEX statiques
     ========================================================================== */

  /* Brand / Primary - Palette marron fonc√© */
  --color-brand-50: #f5f3f0;
  --color-brand-100: #e8e4dd;
  --color-brand-200: #d4cdc2;
  --color-brand-300: #b5aa99;
  --color-brand-400: #8a7d6a;
  --color-brand-500: #0f0b04;
  --color-brand-600: #0d0a03;
  --color-brand-700: #0b0802;
  --color-brand-800: #080602;
  --color-brand-900: #060502;
  --color-brand-950: #040301;

  /* Alias primary ‚Üí brand */
  --color-primary-50: var(--color-brand-50);
  --color-primary-100: var(--color-brand-100);
  --color-primary-200: var(--color-brand-200);
  --color-primary-300: var(--color-brand-300);
  --color-primary-400: var(--color-brand-400);
  --color-primary-500: var(--color-brand-500);
  --color-primary-600: var(--color-brand-600);
  --color-primary-700: var(--color-brand-700);
  --color-primary-800: var(--color-brand-800);
  --color-primary-900: var(--color-brand-900);
  --color-primary-950: var(--color-brand-950);

  /* Secondary - Palette beige/dor√© */
  --color-secondary-50: #faf8f5;
  --color-secondary-100: #f2ebe0;
  --color-secondary-200: #e8dcc8;
  --color-secondary-300: #d8c4a6;
  --color-secondary-400: #c9a97e;
  --color-secondary-500: #d8b790;
  --color-secondary-600: #c2a582;
  --color-secondary-700: #ad9374;
  --color-secondary-800: #988166;
  --color-secondary-900: #836f58;
  --color-secondary-950: #6e5d4a;

  /* Neutral - Palette grise */
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #e5e5e5;
  --color-neutral-300: #d4d4d4;
  --color-neutral-400: #a3a3a3;
  --color-neutral-500: #737373;
  --color-neutral-600: #525252;
  --color-neutral-700: #404040;
  --color-neutral-800: #262626;
  --color-neutral-900: #171717;
  --color-neutral-950: #0a0a0a;

  /* Success - Palette verte */
  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-200: #bbf7d0;
  --color-success-300: #86efac;
  --color-success-400: #4ade80;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;
  --color-success-800: #166534;
  --color-success-900: #14532d;
  --color-success-950: #052e16;

  /* Error - Palette rouge */
  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-200: #fecaca;
  --color-error-300: #fca5a5;
  --color-error-400: #f87171;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;
  --color-error-800: #991b1b;
  --color-error-900: #7f1d1d;
  --color-error-950: #450a0a;

  /* Warning - Palette ambre */
  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-300: #fcd34d;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;
  --color-warning-900: #78350f;
  --color-warning-950: #451a03;

  /* Info - Palette bleue */
  --color-info-50: #eff6ff;
  --color-info-100: #dbeafe;
  --color-info-200: #bfdbfe;
  --color-info-300: #93c5fd;
  --color-info-400: #60a5fa;
  --color-info-500: #3b82f6;
  --color-info-600: #2563eb;
  --color-info-700: #1d4ed8;
  --color-info-800: #1e40af;
  --color-info-900: #1e3a8a;
  --color-info-950: #172554;

  /* Live (utilise error) */
  --color-live: #dc2626;

  /* ==========================================================================
     INTERFACE - BACKGROUNDS
     ========================================================================== */
  --color-bg-page: var(--theme-bg-page);
  --color-bg-subtle: var(--theme-bg-page);
  --color-bg-muted: #ffffff;
  --color-bg-elevated: #ffffff;
  --color-bg-inverse: #0f172a;
  --color-bg-brand-light: #f5f3f0;
  --color-bg-primary-light: #f5f3f0;
  --color-bg-brand-medium: #e8e4dd;
  --color-bg-primary-medium: #e8e4dd;
  --color-bg-success-light: #f0fdf4;
  --color-bg-error-light: #fef2f2;
  --color-bg-warning-light: #fffbeb;
  --color-bg-info-light: #eff6ff;

  /* ==========================================================================
     INTERFACE - TEXTES
     ========================================================================== */
  --color-text-primary: #0e0d04;
  --color-text-secondary: #475569;
  --color-text-muted: #64748b;
  --color-text-disabled: #94a3b8;
  --color-text-inverse: #ffffff;

  /* ==========================================================================
     DARK UI - "Grimoire Ancien" Theme
     Teintes cuir vieilli/marron sombre pour le dark mode global
     ========================================================================== */
  --color-dark-bg-base: #1a1410;
  --color-dark-bg-surface: #2a221a;
  --color-dark-bg-elevated: #352a20;
  --color-dark-bg-hover: #453828;
  --color-dark-bg-deepest: #120e0a;
  --color-dark-border: #4a3d30;
  --color-dark-text-primary: #f5efe8;
  --color-dark-text-secondary: #d8cfc4;
  --color-dark-text-muted: #a89888;
  --color-dark-text-subtle: #786858;

  /* Accent dor√© pour le dark mode */
  --color-dark-accent: #d8b790;
  --color-dark-accent-hover: #e8c9a0;
  --color-dark-accent-muted: #b89870;

  /* ==========================================================================
     OVERLAY / POLL CARD
     Accents marron/dor√© coh√©rents avec le th√®me principal
     ========================================================================== */
  --color-overlay-bg-dark: rgba(15, 13, 10, 0.95);
  --color-overlay-bg-dark-alt: rgba(26, 23, 20, 0.9);
  --color-overlay-shadow-brand: rgba(216, 183, 144, 0.4);
  --color-overlay-shadow-brand-soft: rgba(216, 183, 144, 0.2);
  --color-overlay-border-brand: rgba(216, 183, 144, 0.3);
  --color-overlay-border-brand-soft: rgba(216, 183, 144, 0.15);
  --color-overlay-highlight: rgba(255, 248, 240, 0.1);
  --color-overlay-highlight-strong: rgba(255, 248, 240, 0.2);
  --color-overlay-highlight-soft: rgba(255, 248, 240, 0.3);
  --color-overlay-text-light: #f5efe8;
  --color-overlay-backdrop: rgba(15, 13, 10, 0.5);

  /* ==========================================================================
     GIZMO / TRANSFORM HANDLES
     Accents dor√©s pour la s√©lection
     ========================================================================== */
  --color-gizmo-border: #d8b790;
  --color-gizmo-handle: #e8c9a0;
  --color-gizmo-handle-glow: #d8b790;

  /* ==========================================================================
     GRADIENT BRAND
     D√©grad√© marron/dor√© coh√©rent avec le th√®me
     ========================================================================== */
  --color-gradient-brand-start: #8a7d6a;
  --color-gradient-brand-middle: #b5aa99;
  --color-gradient-brand-end: #d8b790;
}

/* ============================================================================
   GRADIENT UTILITIES - Classes utilitaires cross-browser
   Compatible: Chrome 89+, Firefox 83+, Safari 15+, Edge 89+
   ============================================================================ */

/* Gradient Brand - D√©grad√© principal marron/dor√© */
.gradient-brand {
  background: linear-gradient(135deg, var(--color-gradient-brand-start), var(--color-gradient-brand-end));
}

.gradient-brand-vertical {
  background: linear-gradient(180deg, var(--color-gradient-brand-start), var(--color-gradient-brand-end));
}

.gradient-brand-horizontal {
  background: linear-gradient(90deg, var(--color-gradient-brand-start), var(--color-gradient-brand-end));
}

/* Gradient avec 3 couleurs */
.gradient-brand-full {
  background: linear-gradient(
    135deg,
    var(--color-gradient-brand-start) 0%,
    var(--color-gradient-brand-middle) 50%,
    var(--color-gradient-brand-end) 100%
  );
}

/* Gradient Secondary - Pour les accents */
.gradient-secondary {
  background: linear-gradient(135deg, var(--color-secondary-400), var(--color-secondary-600));
}

/* Gradient Text - Texte avec d√©grad√© */
.gradient-text-brand {
  background: linear-gradient(135deg, var(--color-secondary-600), var(--color-secondary-400));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Gradient Page Background - Pour les pages sombres */
.gradient-page-dark {
  background: linear-gradient(135deg, var(--color-brand-950), var(--color-secondary-950), var(--color-brand-950));
}

/* Gradient Glow - Effet lumineux derri√®re les √©l√©ments */
.gradient-glow {
  background: linear-gradient(135deg, var(--color-secondary-300), var(--color-secondary-500));
  filter: blur(40px);
  opacity: 0.3;
}

/* ============================================================================
   THEMING SYSTEM - Light/Dark Mode Support
   ============================================================================

   Variables s√©mantiques qui s'adaptent au th√®me.
   Pour activer le dark mode :
   1. Retirer colorMode.preference: 'light' dans nuxt.config.ts
   2. Les variables ci-dessous s'adapteront automatiquement

   ============================================================================ */

/* === LIGHT THEME (Default) === */
:root {
  color-scheme: light;

  /* Semantic Colors - These change based on theme */
  --theme-bg: var(--color-bg-page);
  --theme-bg-subtle: var(--color-bg-subtle);
  --theme-bg-muted: var(--color-bg-muted);
  --theme-bg-elevated: var(--color-bg-elevated);
  --theme-bg-inverse: var(--color-bg-inverse);

  --theme-text: var(--color-text-primary);
  --theme-text-secondary: var(--color-text-secondary);
  --theme-text-muted: var(--color-text-muted);
  --theme-text-disabled: var(--color-text-disabled);
  --theme-text-inverse: var(--color-text-inverse);

  --theme-border: var(--color-neutral-200);
  --theme-border-muted: var(--color-neutral-100);
  --theme-border-strong: var(--color-neutral-300);

  /* Card & Surface */
  --theme-card-bg: #ffffff;
  --theme-card-bg-hover: #f9fafb;
  --theme-card-border: var(--color-neutral-200);
  --theme-card-shadow: rgba(0, 0, 0, 0.05);

  /* Auth pages background (needs contrast with cards) */
  --theme-auth-bg: var(--color-bg-subtle);

  /* Input */
  --theme-input-bg: var(--color-primary-100);
  --theme-input-border: var(--color-primary-200);
  --theme-input-text: var(--color-primary-500);
  --theme-input-placeholder: var(--color-primary-400);

  /* State Colors - Success */
  --theme-success-bg: #d1fae5;
  --theme-success-bg-hover: #a7f3d0;
  --theme-success-border: #6ee7b7;
  --theme-success-text: #065f46;

  /* State Colors - Error */
  --theme-error-bg: #fee2e2;
  --theme-error-bg-hover: #fecaca;
  --theme-error-border: #fca5a5;
  --theme-error-text: #991b1b;

  /* State Colors - Warning */
  --theme-warning-bg: #fef3c7;
  --theme-warning-bg-hover: #fde68a;
  --theme-warning-border: #fcd34d;
  --theme-warning-text: #92400e;

  /* State Colors - Info */
  --theme-info-bg: #dbeafe;
  --theme-info-bg-hover: #bfdbfe;
  --theme-info-border: #93c5fd;
  --theme-info-text: #1e40af;

  /* State Colors - Neutral (for inactive states) */
  --theme-neutral-bg: #f5f5f5;
  --theme-neutral-bg-hover: #e5e5e5;
  --theme-neutral-border: #d4d4d4;
  --theme-neutral-text: #525252;
}

/* === DARK THEME - "Grimoire Ancien" === */
/* Theme cuir vieilli sombre avec accents dor√©s */
html.dark {
  color-scheme: dark;

  /* Dark semantic colors - Cuir de grimoire */
  --theme-bg: var(--color-dark-bg-base);
  --theme-bg-subtle: var(--color-dark-bg-surface);
  --theme-bg-muted: var(--color-dark-bg-surface);
  --theme-bg-elevated: var(--color-dark-bg-elevated);
  --theme-bg-inverse: var(--color-bg-page);

  --theme-text: var(--color-dark-text-primary);
  --theme-text-secondary: var(--color-dark-text-secondary);
  --theme-text-muted: var(--color-dark-text-muted);
  --theme-text-disabled: var(--color-dark-text-subtle);
  --theme-text-inverse: var(--color-text-primary);

  --theme-border: var(--color-dark-border);
  --theme-border-muted: rgba(74, 61, 48, 0.5);
  --theme-border-strong: rgba(90, 75, 58, 1);

  /* Card & Surface - Chocolat profond */
  --theme-card-bg: var(--color-dark-bg-surface);
  --theme-card-border: var(--color-dark-border);
  --theme-card-shadow: rgba(0, 0, 0, 0.4);

  /* Auth pages background - Plus sombre que les cartes pour contraste */
  --theme-auth-bg: var(--color-dark-bg-base);

  /* Input - L√©g√®rement plus clair que la carte */
  --theme-input-bg: var(--color-dark-bg-elevated);
  --theme-input-border: var(--color-dark-border);
  --theme-input-text: var(--color-dark-text-primary);
  --theme-input-placeholder: var(--color-dark-text-muted);

  /* Accent dor√© antique */
  --theme-accent: var(--color-dark-accent);
  --theme-accent-hover: var(--color-dark-accent-hover);

  /* Card hover for dark mode */
  --theme-card-bg-hover: var(--color-dark-bg-hover);

  /* State Colors - Success (dark mode) */
  --theme-success-bg: rgba(6, 95, 70, 0.25);
  --theme-success-bg-hover: rgba(6, 95, 70, 0.35);
  --theme-success-border: rgba(110, 231, 183, 0.4);
  --theme-success-text: #6ee7b7;

  /* State Colors - Error (dark mode) */
  --theme-error-bg: rgba(153, 27, 27, 0.25);
  --theme-error-bg-hover: rgba(153, 27, 27, 0.35);
  --theme-error-border: rgba(252, 165, 165, 0.4);
  --theme-error-text: #fca5a5;

  /* State Colors - Warning (dark mode) */
  --theme-warning-bg: rgba(146, 64, 14, 0.25);
  --theme-warning-bg-hover: rgba(146, 64, 14, 0.35);
  --theme-warning-border: rgba(252, 211, 77, 0.4);
  --theme-warning-text: #fcd34d;

  /* State Colors - Info (dark mode) */
  --theme-info-bg: rgba(30, 64, 175, 0.25);
  --theme-info-bg-hover: rgba(30, 64, 175, 0.35);
  --theme-info-border: rgba(147, 197, 253, 0.4);
  --theme-info-text: #93c5fd;

  /* State Colors - Neutral (dark mode) */
  --theme-neutral-bg: var(--color-dark-bg-elevated);
  --theme-neutral-bg-hover: var(--color-dark-bg-hover);
  --theme-neutral-border: var(--color-dark-border);
  --theme-neutral-text: var(--color-dark-text-secondary);

  /* Override des couleurs de page pour le dark mode */
  --color-bg-page: var(--color-dark-bg-base);
  --color-bg-subtle: var(--color-dark-bg-base);
  --color-bg-muted: var(--color-dark-bg-surface);
  --color-bg-elevated: var(--color-dark-bg-elevated);
  --color-text-primary: var(--color-dark-text-primary);
  --color-text-secondary: var(--color-dark-text-secondary);
  --color-text-muted: var(--color-dark-text-muted);
}

/* Nuxt UI Dark Mode Override - "Grimoire Ancien" */
.dark {
  /* Textes - Parchemin clair sur cuir sombre */
  --ui-text-dimmed: var(--color-dark-text-subtle);
  --ui-text-muted: var(--color-dark-text-muted);
  --ui-text-toned: var(--color-dark-text-secondary);
  --ui-text: var(--color-dark-text-primary);
  --ui-text-highlighted: var(--color-dark-text-primary);
  --ui-text-inverted: #1a1410;

  /* Backgrounds - Cuir vieilli */
  --ui-bg: var(--color-dark-bg-surface);
  --ui-bg-muted: var(--color-dark-bg-base);
  --ui-bg-elevated: var(--color-dark-bg-elevated);
  --ui-bg-accented: var(--color-dark-bg-hover);
  --ui-bg-inverted: #f5efe8;

  /* Bordures - Coutures cuir */
  --ui-border: var(--color-dark-border);
  --ui-border-muted: rgba(74, 61, 48, 0.5);
  --ui-border-accented: var(--color-dark-bg-hover);
  --ui-border-inverted: #f5efe8;

  /* Primary color override pour boutons dor√©s */
  --ui-primary: var(--color-dark-accent);
}

/* Dark mode now active - "Grimoire Ancien" theme enabled */

/* ============================================================================
   CURSEUR POINTER POUR √âL√âMENTS INTERACTIFS
   ============================================================================ */

button,
[type='button'],
[type='submit'],
[type='reset'],
[role='button'],
a[href],
label[for],
select,
summary,
[tabindex]:not([tabindex='-1']),
.cursor-pointer {
  cursor: pointer;
}

/* ============================================================================
   STYLES DE BASE
   ============================================================================ */

html {
  background-color: var(--color-bg-page);
}

body {
  font-family: var(--font-sans);
  color: var(--color-text-primary);
  background-color: var(--color-bg-page);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
  text-transform: uppercase;
}

/* ============================================================================
   DESIGN SYSTEM - CLASSES UTILITAIRES COMPOS√âES
   ============================================================================
   Ces classes combinent plusieurs propri√©t√©s pour garantir
   la coh√©rence visuelle dans tout le projet.

   Note: On utilise du CSS standard car @apply dans @layer components
   ne fonctionne pas correctement avec Nuxt UI v3 / Tailwind v4.

   R√©f√©rence: frontend/design-system/index.ts
   ============================================================================ */

/* ==========================================================================
   CONTAINERS
   ========================================================================== */

/** Container de page standard - max-width 1280px avec padding responsive */
.container-page {
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem; /* px-4 */
  padding-right: 1rem;
  max-width: 80rem; /* max-w-7xl = 1280px */
}

@media (min-width: 640px) {
  .container-page {
    padding-left: 1.5rem; /* sm:px-6 */
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container-page {
    padding-left: 2rem; /* lg:px-8 */
    padding-right: 2rem;
  }
}

/** Container √©troit - max-width 768px pour formulaires, articles */
.container-narrow {
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  max-width: 48rem; /* max-w-3xl = 768px */
}

@media (min-width: 640px) {
  .container-narrow {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

/** Container tr√®s √©troit - max-width 448px pour auth, modals */
.container-xs {
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  max-width: 28rem; /* max-w-md = 448px */
}

/* ==========================================================================
   TYPOGRAPHY - HEADINGS
   ========================================================================== */

/** Titre de page principal (H1) */
.heading-page {
  font-size: 1.5rem; /* text-2xl */
  line-height: 2rem;
  font-weight: 700; /* font-bold */
  color: var(--color-text-primary);
}

@media (min-width: 640px) {
  .heading-page {
    font-size: 1.875rem; /* sm:text-3xl */
    line-height: 2.25rem;
  }
}

/** Titre de section (H2) */
.heading-section {
  font-size: 1.25rem; /* text-xl */
  line-height: 1.75rem;
  font-weight: 600; /* font-semibold */
  color: var(--color-text-primary);
}

@media (min-width: 640px) {
  .heading-section {
    font-size: 1.5rem; /* sm:text-2xl */
    line-height: 2rem;
  }
}

/** Titre de card (H3) */
.heading-card {
  font-size: 1.125rem; /* text-lg */
  line-height: 1.75rem;
  font-weight: 600; /* font-semibold */
  color: var(--color-text-primary);
}

@media (min-width: 640px) {
  .heading-card {
    font-size: 1.25rem; /* sm:text-xl */
    line-height: 1.75rem;
  }
}

/** Titre de sous-section (H4) */
.heading-subsection {
  font-size: 1rem; /* text-base */
  line-height: 1.5rem;
  font-weight: 500; /* font-medium */
  color: var(--color-text-primary);
}

@media (min-width: 640px) {
  .heading-subsection {
    font-size: 1.125rem; /* sm:text-lg */
    line-height: 1.75rem;
  }
}

/** Label important */
.heading-label {
  font-size: 0.875rem; /* text-sm */
  line-height: 1.25rem;
  font-weight: 600; /* font-semibold */
  color: var(--color-text-primary);
}

/* ==========================================================================
   TYPOGRAPHY - BODY TEXT
   ========================================================================== */

/** Texte principal */
.text-body {
  font-size: 1rem; /* text-base */
  line-height: 1.5rem;
  color: var(--color-text-secondary);
}

/** Texte principal petit */
.text-body-sm {
  font-size: 0.875rem; /* text-sm */
  line-height: 1.25rem;
  color: var(--color-text-secondary);
}

/** Caption / l√©gende */
.text-caption {
  font-size: 0.75rem; /* text-xs */
  line-height: 1rem;
  color: var(--color-text-muted);
}

/* ==========================================================================
   SPACING - PRESETS
   ========================================================================== */

/** Espacement entre sections (space-y-6 = 24px) */
.section-spacing > * + * {
  margin-top: 1.5rem;
}

/** Espacement de contenu (space-y-4 = 16px) */
.content-spacing > * + * {
  margin-top: 1rem;
}

/** Gap inline - √©l√©ments proches (gap-2 = 8px) */
.inline-spacing {
  gap: 0.5rem;
}

/** Gap de groupe (gap-4 = 16px) */
.group-spacing {
  gap: 1rem;
}

/* ==========================================================================
   SECTIONS - PADDING VERTICAL
   ========================================================================== */

/** Padding vertical de section standard */
.section-py {
  padding-top: 2rem; /* py-8 */
  padding-bottom: 2rem;
}

@media (min-width: 1024px) {
  .section-py {
    padding-top: 3rem; /* lg:py-12 */
    padding-bottom: 3rem;
  }
}

/** Padding vertical de section large (hero) */
.section-py-lg {
  padding-top: 3rem; /* py-12 */
  padding-bottom: 3rem;
}

@media (min-width: 1024px) {
  .section-py-lg {
    padding-top: 5rem; /* lg:py-20 */
    padding-bottom: 5rem;
  }
}

/* ==========================================================================
   CARDS - PADDING
   ========================================================================== */

/** Padding standard de card (24px) */
.card-padding {
  padding: 1.5rem;
}

/** Padding compact de card (16px) */
.card-padding-sm {
  padding: 1rem;
}

/** Padding responsive de card */
.card-padding-responsive {
  padding: 1rem;
}

@media (min-width: 640px) {
  .card-padding-responsive {
    padding: 1.5rem;
  }
}

/* ============================================================================
   CLASSES UTILITAIRES - COULEURS ET BACKGROUNDS
   ============================================================================ */

/* Backgrounds */
.bg-page {
  background-color: var(--color-bg-page);
}
.bg-subtle {
  background-color: var(--color-bg-subtle);
}
.bg-muted {
  background-color: var(--color-bg-muted);
}
.bg-elevated {
  background-color: var(--color-bg-elevated);
}
.bg-inverse {
  background-color: var(--color-bg-inverse);
}
.bg-brand-light {
  background-color: var(--color-bg-brand-light);
}
.bg-primary-light {
  background-color: var(--color-bg-primary-light);
}
.bg-success-light {
  background-color: var(--color-bg-success-light);
}
.bg-error-light {
  background-color: var(--color-bg-error-light);
}
.bg-warning-light {
  background-color: var(--color-bg-warning-light);
}
.bg-warning-medium {
  background-color: var(--color-warning-200);
}
.bg-brand-medium {
  background-color: var(--color-bg-brand-medium);
}
.bg-primary-medium {
  background-color: var(--color-bg-primary-medium);
}

/* Borders s√©mantiques */
.border-brand-light {
  border-color: var(--color-brand-200);
}
.border-primary-light {
  border-color: var(--color-primary-200);
}
.border-warning-light {
  border-color: var(--color-warning-200);
}
.border-success-light {
  border-color: var(--color-success-200);
}
.border-error-light {
  border-color: var(--color-error-200);
}
.border-info-light {
  border-color: var(--color-info-200);
}

/* Rings s√©mantiques */
.ring-brand-light {
  --tw-ring-color: var(--color-brand-200);
}
.ring-primary-light {
  --tw-ring-color: var(--color-primary-200);
}
.bg-info-light {
  background-color: var(--color-bg-info-light);
}
.bg-live {
  background-color: var(--color-live);
}
.bg-disabled {
  background-color: var(--color-neutral-100);
}

/* ==========================================================================
   STATE UTILITIES - Theme-aware state colors
   ========================================================================== */

/* Success state */
.state-success-bg {
  background-color: var(--theme-success-bg);
}
.state-success-bg-hover:hover {
  background-color: var(--theme-success-bg-hover);
}
.state-success-border {
  border-color: var(--theme-success-border);
}
.state-success-text {
  color: var(--theme-success-text);
}

/* Error state */
.state-error-bg {
  background-color: var(--theme-error-bg);
}
.state-error-bg-hover:hover {
  background-color: var(--theme-error-bg-hover);
}
.state-error-border {
  border-color: var(--theme-error-border);
}
.state-error-text {
  color: var(--theme-error-text);
}

/* Warning state */
.state-warning-bg {
  background-color: var(--theme-warning-bg);
}
.state-warning-bg-hover:hover {
  background-color: var(--theme-warning-bg-hover);
}
.state-warning-border {
  border-color: var(--theme-warning-border);
}
.state-warning-text {
  color: var(--theme-warning-text);
}

/* Info state */
.state-info-bg {
  background-color: var(--theme-info-bg);
}
.state-info-bg-hover:hover {
  background-color: var(--theme-info-bg-hover);
}
.state-info-border {
  border-color: var(--theme-info-border);
}
.state-info-text {
  color: var(--theme-info-text);
}

/* Neutral state */
.state-neutral-bg {
  background-color: var(--theme-neutral-bg);
}
.state-neutral-bg-hover:hover {
  background-color: var(--theme-neutral-bg-hover);
}
.state-neutral-border {
  border-color: var(--theme-neutral-border);
}
.state-neutral-text {
  color: var(--theme-neutral-text);
}

/* Textes */
.text-primary {
  color: var(--color-text-primary);
}
.text-secondary {
  color: var(--color-text-secondary);
}
.text-muted {
  color: var(--color-text-muted);
}
.text-disabled {
  color: var(--color-text-disabled);
}
.text-inverse {
  color: var(--color-text-inverse);
}

/* Dark UI (Studio) */
.dark-bg-base {
  background-color: var(--color-dark-bg-base);
}
.dark-bg-surface {
  background-color: var(--color-dark-bg-surface);
}
.dark-bg-elevated {
  background-color: var(--color-dark-bg-elevated);
}
.dark-bg-hover {
  background-color: var(--color-dark-bg-hover);
}
.dark-bg-deepest {
  background-color: var(--color-dark-bg-deepest);
}
.dark-border {
  border-color: var(--color-dark-border);
}
.dark-text-primary {
  color: var(--color-dark-text-primary);
}
.dark-text-secondary {
  color: var(--color-dark-text-secondary);
}
.dark-text-muted {
  color: var(--color-dark-text-muted);
}
.dark-text-subtle {
  color: var(--color-dark-text-subtle);
}

/* ==========================================================================
   DARK MODE OVERRIDES - "Grimoire Ancien"
   Override des classes Tailwind pour s'adapter automatiquement au dark mode
   ========================================================================== */

/* Backgrounds blancs ‚Üí cuir surface */
.dark .bg-white,
.dark .bg-white\/50,
.dark .bg-white\/80,
.dark .bg-white\/90 {
  background-color: var(--color-dark-bg-surface) !important;
}

/* Backgrounds clairs ‚Üí cuir √©lev√© */
.dark .bg-primary-50,
.dark .bg-primary-100,
.dark .bg-secondary-50,
.dark .bg-secondary-100,
.dark .bg-neutral-50,
.dark .bg-neutral-100 {
  background-color: var(--color-dark-bg-elevated) !important;
}

/* Semantic backgrounds pour dark mode */
.dark .bg-error-100 {
  background-color: rgba(220, 38, 38, 0.15) !important;
}
.dark .bg-success-100 {
  background-color: rgba(34, 197, 94, 0.15) !important;
}
.dark .bg-warning-100 {
  background-color: rgba(245, 158, 11, 0.15) !important;
}
.dark .bg-info-100 {
  background-color: rgba(59, 130, 246, 0.15) !important;
}

/* Textes fonc√©s ‚Üí clairs (parchemin) */
.dark .text-primary-600,
.dark .text-primary-700,
.dark .text-primary-800,
.dark .text-primary-900 {
  color: var(--color-dark-text-primary) !important;
}

.dark .text-secondary-600,
.dark .text-secondary-700,
.dark .text-secondary-800 {
  color: var(--color-dark-accent) !important;
}

/* Gradient backgrounds pour sections altern√©es */
.dark .from-secondary-100\/30 {
  --tw-gradient-from: rgba(42, 34, 26, 0.3) !important;
}

.dark .bg-secondary-200\/30 {
  background-color: rgba(74, 61, 48, 0.3) !important;
}

/* Cards avec border */
.dark .border-neutral-100,
.dark .border-neutral-200,
.dark .border-neutral-300 {
  border-color: var(--color-dark-border) !important;
}

/* Shadows pour dark mode - plus prononc√©es */
.dark .shadow-lg {
  --tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.3) !important;
  box-shadow: var(--tw-shadow) !important;
}

.dark .shadow-xl {
  --tw-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 8px 10px -6px rgba(0, 0, 0, 0.3) !important;
  box-shadow: var(--tw-shadow) !important;
}

/* Hover states */
.dark .hover\:bg-primary-50:hover,
.dark .hover\:bg-gray-50:hover {
  background-color: var(--color-dark-bg-hover) !important;
}

/* Gray/Neutral backgrounds ‚Üí dark equivalents */
.dark .bg-gray-50,
.dark .bg-gray-100,
.dark .bg-neutral-50,
.dark .bg-neutral-100 {
  background-color: var(--color-dark-bg-elevated) !important;
}

.dark .bg-gray-200,
.dark .bg-neutral-200 {
  background-color: var(--color-dark-bg-hover) !important;
}

/* Neutral hover in dark mode */
.dark .hover\:bg-neutral-100:hover,
.dark .hover\:bg-neutral-200:hover {
  background-color: var(--color-dark-bg-hover) !important;
}

/* Gray borders ‚Üí dark equivalents */
.dark .border-gray-100,
.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: var(--color-dark-border) !important;
}

/* Neutral text in dark mode */
.dark .text-neutral-400,
.dark .text-neutral-500,
.dark .text-gray-400,
.dark .text-gray-500 {
  color: var(--color-dark-text-muted) !important;
}

.dark .text-neutral-600,
.dark .text-neutral-700,
.dark .text-gray-600,
.dark .text-gray-700 {
  color: var(--color-dark-text-secondary) !important;
}

/* Gradient text - ajust√© pour meilleure lisibilit√© en dark */
.dark .bg-gradient-to-r.from-secondary-600.to-secondary-400 {
  --tw-gradient-from: var(--color-dark-accent-hover) !important;
  --tw-gradient-to: var(--color-dark-accent) !important;
}

/* Error/Success hover states in dark mode */
.dark .bg-error-200,
.dark .hover\:bg-error-200:hover {
  background-color: rgba(153, 27, 27, 0.35) !important;
}

.dark .bg-success-200,
.dark .hover\:bg-success-200:hover {
  background-color: rgba(6, 95, 70, 0.35) !important;
}

/* Text colors for states in dark mode */
.dark .text-error-600,
.dark .text-error-700 {
  color: #fca5a5 !important;
}

.dark .text-success-600,
.dark .text-success-700 {
  color: #6ee7b7 !important;
}

.dark .text-warning-600,
.dark .text-warning-700 {
  color: #fcd34d !important;
}

.dark .text-info-600,
.dark .text-info-700 {
  color: #93c5fd !important;
}

/* Utility classes with light backgrounds in dark mode */
.dark .bg-brand-light,
.dark .bg-primary-light {
  background-color: var(--color-dark-bg-elevated) !important;
}

.dark .bg-brand-medium,
.dark .bg-primary-medium {
  background-color: var(--color-dark-bg-hover) !important;
}

.dark .border-brand-light,
.dark .border-primary-light {
  border-color: var(--color-dark-border) !important;
}

/* Light state backgrounds in dark mode */
.dark .bg-success-light,
.dark .bg-error-light,
.dark .bg-warning-light,
.dark .bg-info-light {
  background-color: var(--color-dark-bg-elevated) !important;
}

/* Ring colors in dark mode */
.dark .ring-brand-light,
.dark .ring-primary-light {
  --tw-ring-color: var(--color-dark-border) !important;
}

/* ============================================================================
   SUPPRESSION GLOBALE DES BORDURES NUXT UI
   ============================================================================ */

[class*='ring-'] {
  --tw-ring-offset-width: 0px !important;
  --tw-ring-width: 0px !important;
  --tw-ring-color: transparent !important;
  box-shadow: none !important;
}

/* ============================================================================
   MASQUER LES MODALS DES GESTIONNAIRES DE MOTS DE PASSE
   ============================================================================ */

[id^='1password'],
[id^='lastpass'],
[id^='bitwarden'],
[class*='onepassword'],
[class*='lastpass'],
[class*='bitwarden'],
[data-lastpass-root],
[data-1p-root] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* ============================================================================
   PWA & MOBILE SUPPORT
   ============================================================================ */

/* Safe areas pour PWA - Support des encoches et barres syst√®me */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}
.safe-area-left {
  padding-left: env(safe-area-inset-left);
}
.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

/* Hauteur viewport mobile - Utilise dvh pour g√©rer les barres d'adresse mobiles */
.min-h-screen-mobile {
  min-height: 100dvh;
}

/* Touch targets minimum 44px - Recommandation WCAG pour accessibilit√© tactile */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* ============================================================================
   SCROLLBAR PERSONNALIS√âE
   ============================================================================ */

/* Webkit (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-neutral-100);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-primary-300);
  border-radius: 4px;
  transition: background 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-400);
}

::-webkit-scrollbar-thumb:active {
  background: var(--color-primary-400);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--color-primary-300) var(--color-neutral-100);
}

/* ============================================================================
   INPUT RANGE / SLIDER
   ============================================================================ */

input[type='range'] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  background: var(--color-neutral-200);
  border-radius: 3px;
  outline: none;
  cursor: pointer;
}

/* Track - Webkit (Chrome, Safari, Edge) */
input[type='range']::-webkit-slider-runnable-track {
  height: 6px;
  background: var(--color-neutral-200);
  border-radius: 3px;
}

/* Thumb - Webkit */
input[type='range']::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  background: var(--color-primary-400);
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  margin-top: -5px;
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease;
}

input[type='range']::-webkit-slider-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
}

input[type='range']::-webkit-slider-thumb:active {
  transform: scale(0.95);
}

/* Track - Firefox */
input[type='range']::-moz-range-track {
  height: 6px;
  background: var(--color-neutral-200);
  border-radius: 3px;
  border: none;
}

/* Thumb - Firefox */
input[type='range']::-moz-range-thumb {
  width: 16px;
  height: 16px;
  background: var(--color-primary-400);
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease;
}

input[type='range']::-moz-range-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
}

input[type='range']::-moz-range-thumb:active {
  transform: scale(0.95);
}

/* Focus state */
input[type='range']:focus {
  outline: none;
}

input[type='range']:focus::-webkit-slider-thumb {
  box-shadow:
    0 0 0 3px var(--color-primary-200),
    0 1px 3px rgba(0, 0, 0, 0.2);
}

input[type='range']:focus::-moz-range-thumb {
  box-shadow:
    0 0 0 3px var(--color-primary-200),
    0 1px 3px rgba(0, 0, 0, 0.2);
}

/* ============================================================================
   INPUT NUMBER / SPIN BUTTON
   ============================================================================ */

input[type='number'] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* Webkit - Always show spin buttons */
input[type='number']::-webkit-inner-spin-button,
input[type='number']::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  opacity: 1;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 20px;
  background: var(--color-neutral-200);
  border-left: 1px solid var(--color-neutral-300);
  border-radius: 0 6px 6px 0;
  cursor: pointer;
}

/* Custom spin buttons using pseudo-elements on wrapper */
.number-input-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
}

.number-input-wrapper input[type='number'] {
  padding-right: 24px;
}

.number-input-wrapper .spin-buttons {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  width: 20px;
  border-left: 1px solid var(--color-neutral-200);
  border-radius: 0 6px 6px 0;
  overflow: hidden;
}

.number-input-wrapper .spin-button {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-neutral-100);
  border: none;
  cursor: pointer;
  color: var(--color-neutral-400);
  font-size: 10px;
  line-height: 1;
  padding: 0;
  transition: all 0.15s ease;
}

.number-input-wrapper .spin-button:hover {
  background: var(--color-neutral-200);
  color: var(--color-primary-500);
}

.number-input-wrapper .spin-button:active {
  background: var(--color-primary-100);
  color: var(--color-primary-600);
}

.number-input-wrapper .spin-button-up {
  border-bottom: 1px solid var(--color-neutral-200);
}

/* ============================================================================
   ANIMATION D20 LOADING
   ============================================================================ */

.animate-spin-slow {
  animation: spin-slow 4.5s linear infinite;
}

@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* ============================================================================
   OVERLAY STUDIO - Z-INDEX HIERARCHY
   Le composant Html de TresJS cr√©e un conteneur avec position absolute.
   On doit s'assurer que le gizmo de transformation est au-dessus.
   ============================================================================ */

/* Conteneur Html de TresJS - z-index bas pour √™tre sous le gizmo */
.canvas-wrapper > div[style*='position: absolute'] {
  z-index: 1 !important;
}

/* Gizmo de transformation - toujours au-dessus */
.transform-gizmo {
  z-index: 1000 !important;
}

/* ============================================================================
   LANDING PAGE - MICRO-INTERACTIONS
   ============================================================================ */

/* Bouton CTA avec glow dor√© */
.cta-glow {
  position: relative;
  transition: all 0.3s ease;
}

.cta-glow::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(135deg, var(--color-secondary-400), var(--color-secondary-600));
  border-radius: inherit;
  opacity: 0;
  z-index: -1;
  filter: blur(12px);
  transition: opacity 0.3s ease;
}

.cta-glow:hover {
  transform: translateY(-2px);
}

.cta-glow:hover::before {
  opacity: 0.6;
}

.cta-glow:active {
  transform: translateY(0) scale(0.98);
}

/* Card avec √©l√©vation et glow */
.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 40px rgba(216, 183, 144, 0.15);
}

/* Image avec zoom subtil */
.img-zoom {
  transition: transform 0.5s ease;
  overflow: hidden;
}

.img-zoom:hover {
  transform: scale(1.03);
}

/* Lien avec underline anim√© */
.link-animated {
  position: relative;
}

.link-animated::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--color-secondary-500);
  transition: width 0.3s ease;
}

.link-animated:hover::after {
  width: 100%;
}

/* Ic√¥ne avec pulse au hover */
.icon-pulse:hover {
  animation: pulse-gold 0.6s ease;
}

@keyframes pulse-gold {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/* Shimmer effect pour CTA premium */
.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* ============================================================================
   ACCESSIBILIT√â - R√©duire les animations si demand√©
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .cta-glow:hover,
  .card-hover:hover,
  .img-zoom:hover {
    transform: none;
  }
}
