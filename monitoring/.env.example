# =============================================================================
# Tumulte Monitoring - Variables d'environnement
# =============================================================================
#
# Copier ce fichier :
#   cp .env.example .env.staging      # Pour staging
#   cp .env.example .env.production   # Pour production
#
# =============================================================================

# === ENVIRONNEMENT ===
# Suffixe pour différencier les containers (staging ou prod)
# Les containers seront nommés : tumulte-grafana-{ENV_SUFFIX}, etc.
ENV_SUFFIX=staging

# === GRAFANA ===
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=REPLACE_ME_STRONG_PASSWORD

# URL publique de Grafana (pour les liens dans les alertes)
# Staging: https://monitoring-staging.tumulte.app
# Prod: https://monitoring.tumulte.app
GRAFANA_ROOT_URL=https://monitoring-staging.tumulte.app
GRAFANA_DOMAIN=monitoring-staging.tumulte.app

# Sécurité (activer en staging/prod avec HTTPS)
GF_SECURITY_COOKIE_SECURE=true
GF_SECURITY_STRICT_TRANSPORT_SECURITY=true

# === DISCORD WEBHOOKS ===
# Créer les webhooks : Server Settings > Integrations > Webhooks > New Webhook
#
# Channel #monitoring (alertes normales - warnings)
DISCORD_MONITORING_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# Channel #alertes-critiques (alertes critiques - channel séparé recommandé)
DISCORD_CRITICAL_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_CRITICAL_WEBHOOK_ID/YOUR_CRITICAL_WEBHOOK_TOKEN

# === POSTGRESQL EXPORTER ===
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
DATA_SOURCE_NAME=postgresql://postgres:password@db-host:5432/twitch_polls?sslmode=require

# === REDIS EXPORTER ===
REDIS_ADDR=redis-host:6379
REDIS_PASSWORD=

# === RÉTENTION PROMETHEUS ===
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB
